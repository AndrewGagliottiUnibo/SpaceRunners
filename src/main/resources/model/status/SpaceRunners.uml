<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="20131001" xmlns:xmi="http://www.omg.org/spec/XMI/20131001" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:UMLLabProfile="http:///schemas/UMLLabProfile/NS/0" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML" xsi:schemaLocation="http:///schemas/UMLLabProfile/NS/0 pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile">
  <uml:Model xmi:id="_x-7dcP5uEeuuL66GyNonoQ" name="SpaceRunners">
    <eAnnotations xmi:id="_0zzY0P5uEeuuL66GyNonoQ" source="http://ns.yatta.de/umllab">
      <contents xmi:type="ecore:EAnnotation" xmi:id="_0zzY0f5uEeuuL66GyNonoQ" source="codegen">
        <details xmi:id="_0zzY0v5uEeuuL66GyNonoQ" key="codegenDirectory" value="/SpaceRunners/src/main/java"/>
        <details xmi:id="_2ZUlIP5uEeuuL66GyNonoQ" key="AssociatedSourceCode" value="/SpaceRunners/src/main/java/model/status/malus/MalusSpeed.java;176419581/1;/SpaceRunners/src/main/java/model/status/Status.java;2921652839/1;/SpaceRunners/src/main/java/model/status/StatusEnum.java;3523456484/1;/SpaceRunners/src/main/java/model/status/StatusFactory.java;2311803922/1;/SpaceRunners/src/main/java/model/status/bonus/BonusLife.java;4210854623/1;/SpaceRunners/src/main/java/model/status/bonus/BonusSpeed.java;4217412281/1;/SpaceRunners/src/main/java/model/status/malus/MalusCommand.java;4099062491/1;/SpaceRunners/src/main/java/model/status/malus/MalusFire.java;3891326207/1;/SpaceRunners/src/main/java/controller/status/StatusController.java;3899858180/1;"/>
      </contents>
    </eAnnotations>
    <elementImport xmi:id="_1M3ZEP5uEeuuL66GyNonoQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
    </elementImport>
    <elementImport xmi:id="_1M4AIP5uEeuuL66GyNonoQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
    </elementImport>
    <elementImport xmi:id="_1M4nMP5uEeuuL66GyNonoQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
    </elementImport>
    <elementImport xmi:id="_1M4nMf5uEeuuL66GyNonoQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </elementImport>
    <elementImport xmi:id="_1M4nMv5uEeuuL66GyNonoQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
    </elementImport>
    <elementImport xmi:id="_1M5OQP5uEeuuL66GyNonoQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </elementImport>
    <elementImport xmi:id="_1M5OQf5uEeuuL66GyNonoQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
    </elementImport>
    <elementImport xmi:id="_1M9fsP5uEeuuL66GyNonoQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#short"/>
    </elementImport>
    <elementImport xmi:id="_1M_U4P5uEeuuL66GyNonoQ">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </elementImport>
    <packagedElement xmi:type="uml:Package" xmi:id="_1KgBkP5uEeuuL66GyNonoQ" name="model">
      <packagedElement xmi:type="uml:Package" xmi:id="_1KgooP5uEeuuL66GyNonoQ" name="status">
        <packagedElement xmi:type="uml:Package" xmi:id="_1KwgQP5uEeuuL66GyNonoQ" name="malus">
          <packagedElement xmi:type="uml:Class" xmi:id="_1MtBAP5uEeuuL66GyNonoQ" name="MalusSpeed">
            <ownedComment xmi:id="_1cDEkP5uEeuuL66GyNonoQ">
              <body>A Status that decrease player's speed of a certain amount.</body>
            </ownedComment>
            <generalization xmi:id="_1apWYP5uEeuuL66GyNonoQ" general="_1NNXUP5uEeuuL66GyNonoQ"/>
            <ownedAttribute xmi:id="_1bhgIP5uEeuuL66GyNonoQ" name="decreaseFactor" visibility="private">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_1biHMP5uEeuuL66GyNonoQ" value="1/3"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_1b6hsP5uEeuuL66GyNonoQ" name="MalusSpeed" specification="_1NBKEP5uEeuuL66GyNonoQ">
              <ownedParameter xmi:id="_1b6hsf5uEeuuL66GyNonoQ" type="_1MtBAP5uEeuuL66GyNonoQ" direction="return"/>
              <language>java</language>
              <body>super();&#xD;
		setImage(Parameters.bonusSpeedImage);&#xD;
		getNode().setRotate(0);&#xD;
		setStatusName(StatusEnum.MalusSpeed);&#xD;
&#xD;
		setEffect(() -> getPlayer().setSpeed(getPlayer().getSpeed().floatValue() * decreaseFactor));&#xD;
		setRemoveEffect(() -> getPlayer().setSpeed(getPlayer().getSpeed().floatValue() * 1/decreaseFactor));&#xD;
		setDuration(4); // 8 s&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_1NBKEP5uEeuuL66GyNonoQ" name="MalusSpeed" method="_1b6hsP5uEeuuL66GyNonoQ">
              <eAnnotations xmi:id="_1NHQsP5uEeuuL66GyNonoQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_1NHQsf5uEeuuL66GyNonoQ" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_1NH3wP5uEeuuL66GyNonoQ" type="_1MtBAP5uEeuuL66GyNonoQ" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_1OOrAP5uEeuuL66GyNonoQ" name="MalusCommand">
            <ownedComment xmi:id="_1cIkJP5uEeuuL66GyNonoQ">
              <body>A Status that reverses player's movement commands.</body>
            </ownedComment>
            <generalization xmi:id="_1bBw4P5uEeuuL66GyNonoQ" general="_1NNXUP5uEeuuL66GyNonoQ"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_1cAoUv5uEeuuL66GyNonoQ" name="MalusCommand" specification="_1OQgMP5uEeuuL66GyNonoQ">
              <ownedParameter xmi:id="_1cAoU_5uEeuuL66GyNonoQ" type="_1OOrAP5uEeuuL66GyNonoQ" direction="return"/>
              <language>java</language>
              <body>super();&#xD;
		setImage(Parameters.bonusSpeedImage);&#xD;
		getNode().setRotate(0);&#xD;
		setStatusName(StatusEnum.MalusCommand);&#xD;
&#xD;
		setEffect(() -> getPlayer().setInvertedCommand(true));&#xD;
		setRemoveEffect(() -> getPlayer().setInvertedCommand(false));&#xD;
		setDuration(4); // 8 s&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_1OQgMP5uEeuuL66GyNonoQ" name="MalusCommand" method="_1cAoUv5uEeuuL66GyNonoQ">
              <eAnnotations xmi:id="_1OQgMf5uEeuuL66GyNonoQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_1ORHQP5uEeuuL66GyNonoQ" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_1ORHQf5uEeuuL66GyNonoQ" type="_1OOrAP5uEeuuL66GyNonoQ" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_1OTjgP5uEeuuL66GyNonoQ" name="MalusFire">
            <ownedComment xmi:id="_1cJLMP5uEeuuL66GyNonoQ">
              <body>A Status that block player's firing.</body>
            </ownedComment>
            <generalization xmi:id="_1bCX8P5uEeuuL66GyNonoQ" general="_1NNXUP5uEeuuL66GyNonoQ"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_1cBPYP5uEeuuL66GyNonoQ" name="MalusFire" specification="_1OV_wP5uEeuuL66GyNonoQ">
              <ownedParameter xmi:id="_1cBPYf5uEeuuL66GyNonoQ" type="_1OTjgP5uEeuuL66GyNonoQ" direction="return"/>
              <language>java</language>
              <body>super();&#xD;
		setImage(Parameters.bonusSpeedImage);&#xD;
		getNode().setRotate(0);&#xD;
		setStatusName(StatusEnum.MalusFire);&#xD;
&#xD;
		setEffect(() -> getPlayer().setCanFire(true));&#xD;
		setRemoveEffect(() -> getPlayer().setCanFire(false));&#xD;
		setDuration(8); // 8 s&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_1OV_wP5uEeuuL66GyNonoQ" name="MalusFire" method="_1cBPYP5uEeuuL66GyNonoQ">
              <eAnnotations xmi:id="_1OV_wf5uEeuuL66GyNonoQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_1OWm0P5uEeuuL66GyNonoQ" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_1OWm0f5uEeuuL66GyNonoQ" type="_1OTjgP5uEeuuL66GyNonoQ" direction="return"/>
            </ownedOperation>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_1Le5AP5uEeuuL66GyNonoQ" name="bonus">
          <packagedElement xmi:type="uml:Class" xmi:id="_1N9lQP5uEeuuL66GyNonoQ" name="BonusLife">
            <ownedComment xmi:id="_1cIkIv5uEeuuL66GyNonoQ">
              <body>A Status that, below a certain maximum, add 1 bonus life to the player.</body>
            </ownedComment>
            <generalization xmi:id="_1a_7sP5uEeuuL66GyNonoQ" general="_1NNXUP5uEeuuL66GyNonoQ"/>
            <ownedAttribute xmi:id="_1bmYoP5uEeuuL66GyNonoQ" name="maximumNumberLife" visibility="private">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_1bm_sP5uEeuuL66GyNonoQ" value="4"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_1cABQ_5uEeuuL66GyNonoQ" name="BonusLife" specification="_1OCdwP5uEeuuL66GyNonoQ">
              <ownedParameter xmi:id="_1cABRP5uEeuuL66GyNonoQ" type="_1N9lQP5uEeuuL66GyNonoQ" direction="return"/>
              <language>java</language>
              <body>super();&#xD;
		setImage(Parameters.bonusSpeedImage);&#xD;
		getNode().setRotate(0);&#xD;
		setStatusName(StatusEnum.BonusLife);&#xD;
		&#xD;
		setEffect(() -> {&#xD;
			if (getPlayer().getLifePoints() &lt; maximumNumberLife &amp;&amp; getPlayer().getLifePoints() > 0)&#xD;
				getPlayer().setLifePoints(getPlayer().getLifePoints() + 1);});&#xD;
		setRemoveEffect(() -> {});&#xD;
		setDuration(0); &#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_1OCdwP5uEeuuL66GyNonoQ" name="BonusLife" method="_1cABQ_5uEeuuL66GyNonoQ">
              <eAnnotations xmi:id="_1ODE0P5uEeuuL66GyNonoQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_1ODr4P5uEeuuL66GyNonoQ" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_1ODr4f5uEeuuL66GyNonoQ" type="_1N9lQP5uEeuuL66GyNonoQ" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_1OHWQP5uEeuuL66GyNonoQ" name="BonusSpeed">
            <ownedComment xmi:id="_1cIkI_5uEeuuL66GyNonoQ">
              <body>A Status that boost player's speed of a certain amount.</body>
            </ownedComment>
            <generalization xmi:id="_1bAiwP5uEeuuL66GyNonoQ" general="_1NNXUP5uEeuuL66GyNonoQ"/>
            <ownedAttribute xmi:id="_1bnmwf5uEeuuL66GyNonoQ" name="boostFactor" visibility="private">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_1boN0P5uEeuuL66GyNonoQ" value="3/2"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_1cAoUP5uEeuuL66GyNonoQ" name="BonusSpeed" specification="_1OKZkP5uEeuuL66GyNonoQ">
              <ownedParameter xmi:id="_1cAoUf5uEeuuL66GyNonoQ" type="_1OHWQP5uEeuuL66GyNonoQ" direction="return"/>
              <language>java</language>
              <body>super();&#xD;
		setImage(Parameters.bonusSpeedImage);&#xD;
		getNode().setRotate(0);&#xD;
		setStatusName(StatusEnum.BonusSpeed);&#xD;
		&#xD;
		setEffect(() -> getPlayer().setSpeed((Integer)getPlayer().getSpeed() * boostFactor));&#xD;
		setRemoveEffect(() -> getPlayer().setSpeed((Integer)getPlayer().getSpeed() * 1/boostFactor));&#xD;
		setDuration(10); &#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_1OKZkP5uEeuuL66GyNonoQ" name="BonusSpeed" method="_1cAoUP5uEeuuL66GyNonoQ">
              <eAnnotations xmi:id="_1OLnsP5uEeuuL66GyNonoQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_1OLnsf5uEeuuL66GyNonoQ" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_1OLnsv5uEeuuL66GyNonoQ" type="_1OHWQP5uEeuuL66GyNonoQ" direction="return"/>
            </ownedOperation>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_1NNXUP5uEeuuL66GyNonoQ" name="Status" isAbstract="true">
          <ownedComment xmi:id="_1cDEkf5uEeuuL66GyNonoQ">
            <body>An entity that can apply, under certain condition, an effect (bonus or malus) to the player.&#xD;
Any type of States are temporary, each have a different cooldown.</body>
          </ownedComment>
          <generalization xmi:id="_1bY9QP5uEeuuL66GyNonoQ" general="_1ax5Qf5uEeuuL66GyNonoQ"/>
          <ownedAttribute xmi:id="_1bjVUP5uEeuuL66GyNonoQ" name="duration">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_1bj8YP5uEeuuL66GyNonoQ" name="player" type="_1azucP5uEeuuL66GyNonoQ" association="_1cE5wP5uEeuuL66GyNonoQ"/>
          <ownedAttribute xmi:id="_1bkjcP5uEeuuL66GyNonoQ" name="effect" type="_1bXIEP5uEeuuL66GyNonoQ" association="_1cGu8P5uEeuuL66GyNonoQ"/>
          <ownedAttribute xmi:id="_1blKgP5uEeuuL66GyNonoQ" name="removeEffect" type="_1bXIEP5uEeuuL66GyNonoQ" association="_1cHWAP5uEeuuL66GyNonoQ"/>
          <ownedAttribute xmi:id="_1blxkP5uEeuuL66GyNonoQ" name="statusName" type="_1NfrMP5uEeuuL66GyNonoQ" association="_1cHWAv5uEeuuL66GyNonoQ"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_1b-zIP5uEeuuL66GyNonoQ" name="Status" specification="_1NSP0P5uEeuuL66GyNonoQ">
            <ownedParameter xmi:id="_1b-zIf5uEeuuL66GyNonoQ" type="_1NNXUP5uEeuuL66GyNonoQ" direction="return"/>
            <language>java</language>
            <body>setDirection(Direction.DOWN);&#xD;
		setSpeed(3);&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_1NSP0P5uEeuuL66GyNonoQ" name="Status" method="_1b-zIP5uEeuuL66GyNonoQ">
            <eAnnotations xmi:id="_1NS24P5uEeuuL66GyNonoQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_1NTd8P5uEeuuL66GyNonoQ" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_1NTd8f5uEeuuL66GyNonoQ" type="_1NNXUP5uEeuuL66GyNonoQ" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Enumeration" xmi:id="_1NfrMP5uEeuuL66GyNonoQ" name="StatusEnum">
          <ownedComment xmi:id="_1cH9Ef5uEeuuL66GyNonoQ">
            <body>Enum containing all Status type.</body>
          </ownedComment>
          <ownedOperation xmi:id="_1Nkjsf5uEeuuL66GyNonoQ" name="getRandom" isStatic="true" method="_1b_aMP5uEeuuL66GyNonoQ">
            <ownedComment xmi:id="_1cIkIP5uEeuuL66GyNonoQ">
              <body>Return a random Status type.</body>
            </ownedComment>
            <ownedParameter xmi:id="_1a84YP5uEeuuL66GyNonoQ" type="_1NfrMP5uEeuuL66GyNonoQ" direction="return"/>
          </ownedOperation>
          <ownedLiteral xmi:id="_1NiugP5uEeuuL66GyNonoQ" name="BonusLife"/>
          <ownedLiteral xmi:id="_1Niugf5uEeuuL66GyNonoQ" name="BonusSpeed"/>
          <ownedLiteral xmi:id="_1Nj8oP5uEeuuL66GyNonoQ" name="MalusCommand"/>
          <ownedLiteral xmi:id="_1Nj8of5uEeuuL66GyNonoQ" name="MalusFire"/>
          <ownedLiteral xmi:id="_1NkjsP5uEeuuL66GyNonoQ" name="MalusSpeed"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_1NymIP5uEeuuL66GyNonoQ" name="StatusFactory">
          <ownedComment xmi:id="_1cIkIf5uEeuuL66GyNonoQ">
            <body>Factory in order to create Status Class.</body>
          </ownedComment>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_1cABQP5uEeuuL66GyNonoQ" name="createStatus" specification="_1a-GgP5uEeuuL66GyNonoQ">
            <ownedParameter xmi:id="_1cABQf5uEeuuL66GyNonoQ" name="type" type="_1NfrMP5uEeuuL66GyNonoQ"/>
            <ownedParameter xmi:id="_1cABQv5uEeuuL66GyNonoQ" type="_1NNXUP5uEeuuL66GyNonoQ" direction="return"/>
            <language>java</language>
            <body>switch (type) {&#xD;
		case BonusLife:&#xD;
			return new BonusLife();&#xD;
		case BonusSpeed:&#xD;
			return new BonusSpeed();&#xD;
		case MalusCommand:&#xD;
			return new MalusCommand();&#xD;
		case MalusFire:&#xD;
			return new MalusFire();&#xD;
		case MalusSpeed:&#xD;
			return new MalusSpeed();&#xD;
		}&#xD;
		return null;&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_1N3eoP5uEeuuL66GyNonoQ" name="StatusFactory">
            <eAnnotations xmi:id="_1N4FsP5uEeuuL66GyNonoQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_1N4Fsf5uEeuuL66GyNonoQ" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_1N564P5uEeuuL66GyNonoQ" type="_1NymIP5uEeuuL66GyNonoQ" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_1a-GgP5uEeuuL66GyNonoQ" name="createStatus" method="_1cABQP5uEeuuL66GyNonoQ">
            <ownedParameter xmi:id="_1a-Ggf5uEeuuL66GyNonoQ" name="type" type="_1NfrMP5uEeuuL66GyNonoQ"/>
            <ownedParameter xmi:id="_1a-tkP5uEeuuL66GyNonoQ" type="_1NNXUP5uEeuuL66GyNonoQ" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_1cE5wP5uEeuuL66GyNonoQ" name="" memberEnd="_1bj8YP5uEeuuL66GyNonoQ _1cE5wf5uEeuuL66GyNonoQ">
          <ownedEnd xmi:id="_1cE5wf5uEeuuL66GyNonoQ" name="" type="_1NNXUP5uEeuuL66GyNonoQ" association="_1cE5wP5uEeuuL66GyNonoQ"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_1cGu8P5uEeuuL66GyNonoQ" name="" memberEnd="_1bkjcP5uEeuuL66GyNonoQ _1cGu8f5uEeuuL66GyNonoQ">
          <ownedEnd xmi:id="_1cGu8f5uEeuuL66GyNonoQ" name="" type="_1NNXUP5uEeuuL66GyNonoQ" association="_1cGu8P5uEeuuL66GyNonoQ"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_1cHWAP5uEeuuL66GyNonoQ" name="" memberEnd="_1blKgP5uEeuuL66GyNonoQ _1cHWAf5uEeuuL66GyNonoQ">
          <ownedEnd xmi:id="_1cHWAf5uEeuuL66GyNonoQ" name="" type="_1NNXUP5uEeuuL66GyNonoQ" association="_1cHWAP5uEeuuL66GyNonoQ"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_1cHWAv5uEeuuL66GyNonoQ" name="" memberEnd="_1blxkP5uEeuuL66GyNonoQ _1cH9EP5uEeuuL66GyNonoQ">
          <ownedEnd xmi:id="_1cH9EP5uEeuuL66GyNonoQ" name="" type="_1NNXUP5uEeuuL66GyNonoQ" association="_1cHWAv5uEeuuL66GyNonoQ"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_1K2m4P5uEeuuL66GyNonoQ" name="ship">
        <packagedElement xmi:type="uml:Class" xmi:id="_1azucP5uEeuuL66GyNonoQ" name="SpaceShip"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Class" xmi:id="_1ax5Qf5uEeuuL66GyNonoQ" name="EntityImpl"/>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_1KokcP5uEeuuL66GyNonoQ" name="Utilities">
      <packagedElement xmi:type="uml:Class" xmi:id="_1aj20P5uEeuuL66GyNonoQ" name="Parameters"/>
      <packagedElement xmi:type="uml:Enumeration" xmi:id="_1avdAP5uEeuuL66GyNonoQ" name="Direction"/>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_1LXkQP5uEeuuL66GyNonoQ" name="java">
      <packagedElement xmi:type="uml:Package" xmi:id="_1LYLUP5uEeuuL66GyNonoQ" name="util">
        <packagedElement xmi:type="uml:Package" xmi:id="_1L6W0P5uEeuuL66GyNonoQ" name="concurrent">
          <packagedElement xmi:type="uml:Class" xmi:id="_1bGCUf5uEeuuL66GyNonoQ" name="Executors"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_1bH3gf5uEeuuL66GyNonoQ" name="ScheduledExecutorService"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_1bJssf5uEeuuL66GyNonoQ" name="ScheduledFuture"/>
          <packagedElement xmi:type="uml:Enumeration" xmi:id="_1bLh4P5uEeuuL66GyNonoQ" name="TimeUnit"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_1a6cIP5uEeuuL66GyNonoQ" name="Random"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_1bE0MP5uEeuuL66GyNonoQ" name="Optional"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_1bWhAP5uEeuuL66GyNonoQ" name="lang">
        <packagedElement xmi:type="uml:Interface" xmi:id="_1bXIEP5uEeuuL66GyNonoQ" name="Runnable"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_1L4hoP5uEeuuL66GyNonoQ" name="controller">
      <packagedElement xmi:type="uml:Package" xmi:id="_1MBrkP5uEeuuL66GyNonoQ" name="status">
        <packagedElement xmi:type="uml:Class" xmi:id="_1OZDEP5uEeuuL66GyNonoQ" name="StatusController">
          <ownedComment xmi:id="_1cJLMf5uEeuuL66GyNonoQ">
            <body>Controller Status class.&#xD;
When certain condition are triggered, this class apply the StatusEffect to the player.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_1bo04P5uEeuuL66GyNonoQ" name="ses" visibility="private" type="_1bH3gf5uEeuuL66GyNonoQ" association="_1cMOgP5uEeuuL66GyNonoQ"/>
          <ownedAttribute xmi:id="_1bqDAP5uEeuuL66GyNonoQ" name="player" type="_1azucP5uEeuuL66GyNonoQ" isReadOnly="true" association="_1cODsP5uEeuuL66GyNonoQ"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_1cBPYv5uEeuuL66GyNonoQ" name="StatusController" specification="_1bbZgP5uEeuuL66GyNonoQ">
            <ownedParameter xmi:id="_1cBPY_5uEeuuL66GyNonoQ" name="player" type="_1azucP5uEeuuL66GyNonoQ"/>
            <ownedParameter xmi:id="_1cBPZP5uEeuuL66GyNonoQ" type="_1OZDEP5uEeuuL66GyNonoQ" direction="return"/>
            <language>java</language>
            <body>this.ses = Executors.newScheduledThreadPool(1);&#xD;
		this.player = player;&#xD;
		this.playerStatus = new HashMap&lt;>();&#xD;
		setPlayerStatus();&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_1cB2cP5uEeuuL66GyNonoQ" name="applyEffect" specification="_1bN-IP5uEeuuL66GyNonoQ">
            <ownedParameter xmi:id="_1cB2cf5uEeuuL66GyNonoQ" name="status" type="_1NNXUP5uEeuuL66GyNonoQ"/>
            <language>java</language>
            <body>Optional&lt;ScheduledFuture&lt;?>> task = playerStatus.get(status.getStatusName());&#xD;
		//Adding effect if never added before or already terminated&#xD;
		if (task.isEmpty() || task.get().isDone()) {&#xD;
			addTemporaryEffect(status);&#xD;
			return;&#xD;
		}&#xD;
		//Else, refresh task's time&#xD;
		task.get().cancel(false);&#xD;
		addTemporaryEffect(status);&#xD;
&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_1cB2cv5uEeuuL66GyNonoQ" name="addTemporaryEffect" specification="_1bOlMP5uEeuuL66GyNonoQ">
            <ownedParameter xmi:id="_1cB2c_5uEeuuL66GyNonoQ" name="status" type="_1NNXUP5uEeuuL66GyNonoQ"/>
            <language>java</language>
            <body>//Applying effect&#xD;
		ses.execute(status.getEffect());&#xD;
		//Scheduling effect timeout, and add it to the map&#xD;
		var task = ses.schedule(status.getRemoveEffect(), status.getDuration(), TimeUnit.SECONDS);&#xD;
		addTask(status, task);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_1cCdgP5uEeuuL66GyNonoQ" name="addTask" specification="_1bdOsP5uEeuuL66GyNonoQ">
            <ownedParameter xmi:id="_1cCdgf5uEeuuL66GyNonoQ" name="status" type="_1NNXUP5uEeuuL66GyNonoQ"/>
            <ownedParameter xmi:id="_1cCdgv5uEeuuL66GyNonoQ" name="task" type="_1bJssf5uEeuuL66GyNonoQ"/>
            <language>java</language>
            <body>this.playerStatus.put(status.getStatusName(), Optional.of(task));&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_1cCdg_5uEeuuL66GyNonoQ" name="setPlayerStatus" specification="_1OfwwP5uEeuuL66GyNonoQ">
            <language>java</language>
            <body>for (StatusEnum s : StatusEnum.values()) {&#xD;
			playerStatus.put(s, Optional.empty());&#xD;
		}&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_1OfwwP5uEeuuL66GyNonoQ" name="setPlayerStatus" visibility="private" method="_1cCdg_5uEeuuL66GyNonoQ"/>
          <ownedOperation xmi:id="_1bN-IP5uEeuuL66GyNonoQ" name="applyEffect" method="_1cB2cP5uEeuuL66GyNonoQ">
            <ownedComment xmi:id="_1cJLM_5uEeuuL66GyNonoQ">
              <body>Applying StatusEffect to the Player.&#xD;
	 * Every Status has his own expiring time.&#xD;
	 * &#xD;
	 * @param Status status</body>
            </ownedComment>
            <ownedParameter xmi:id="_1bN-If5uEeuuL66GyNonoQ" name="status" type="_1NNXUP5uEeuuL66GyNonoQ"/>
          </ownedOperation>
          <ownedOperation xmi:id="_1bOlMP5uEeuuL66GyNonoQ" name="addTemporaryEffect" visibility="private" method="_1cB2cv5uEeuuL66GyNonoQ">
            <ownedParameter xmi:id="_1bPMQP5uEeuuL66GyNonoQ" name="status" type="_1NNXUP5uEeuuL66GyNonoQ"/>
          </ownedOperation>
          <ownedOperation xmi:id="_1bbZgP5uEeuuL66GyNonoQ" name="StatusController" method="_1cBPYv5uEeuuL66GyNonoQ">
            <eAnnotations xmi:id="_1bcAkf5uEeuuL66GyNonoQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_1bcAkv5uEeuuL66GyNonoQ" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_1cJLMv5uEeuuL66GyNonoQ">
              <body>Create and Setting this StatusController to a SpaceShip instance.&#xD;
	 * @param player</body>
            </ownedComment>
            <ownedParameter xmi:id="_1bcAkP5uEeuuL66GyNonoQ" name="player" type="_1azucP5uEeuuL66GyNonoQ"/>
            <ownedParameter xmi:id="_1bcAk_5uEeuuL66GyNonoQ" type="_1OZDEP5uEeuuL66GyNonoQ" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_1bdOsP5uEeuuL66GyNonoQ" name="addTask" visibility="private" method="_1cCdgP5uEeuuL66GyNonoQ">
            <ownedParameter xmi:id="_1bdOsf5uEeuuL66GyNonoQ" name="status" type="_1NNXUP5uEeuuL66GyNonoQ"/>
            <ownedParameter xmi:id="_1bdOsv5uEeuuL66GyNonoQ" name="task" type="_1bJssf5uEeuuL66GyNonoQ"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_1cMOgP5uEeuuL66GyNonoQ" name="" memberEnd="_1cMOgf5uEeuuL66GyNonoQ _1bo04P5uEeuuL66GyNonoQ">
          <ownedEnd xmi:id="_1cMOgf5uEeuuL66GyNonoQ" name="" type="_1OZDEP5uEeuuL66GyNonoQ" association="_1cMOgP5uEeuuL66GyNonoQ"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_1cODsP5uEeuuL66GyNonoQ" name="" memberEnd="_1cODsf5uEeuuL66GyNonoQ _1bqDAP5uEeuuL66GyNonoQ">
          <ownedEnd xmi:id="_1cODsf5uEeuuL66GyNonoQ" name="" type="_1OZDEP5uEeuuL66GyNonoQ" association="_1cODsP5uEeuuL66GyNonoQ"/>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <profileApplication xmi:id="_0z1OAP5uEeuuL66GyNonoQ">
      <eAnnotations xmi:id="_0z5fcP5uEeuuL66GyNonoQ" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile"/>
    </profileApplication>
  </uml:Model>
  <UMLLabProfile:TargetLanguage xmi:id="_0z-_AP5uEeuuL66GyNonoQ" base_Package="_x-7dcP5uEeuuL66GyNonoQ">
    <languageName>java</languageName>
  </UMLLabProfile:TargetLanguage>
  <UMLLabProfile:LegacyStyledElement xmi:id="_1N5T0P5uEeuuL66GyNonoQ" base_Element="_1N3eoP5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:Reference xmi:id="_1alsAP5uEeuuL66GyNonoQ" base_Element="_1aj20P5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:Reference xmi:id="_1ax5QP5uEeuuL66GyNonoQ" base_Element="_1avdAP5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:Reference xmi:id="_1azHYP5uEeuuL66GyNonoQ" base_Element="_1ax5Qf5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:Reference xmi:id="_1a1joP5uEeuuL66GyNonoQ" base_Element="_1azucP5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:Reference xmi:id="_1a8RUP5uEeuuL66GyNonoQ" base_Element="_1a6cIP5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:Reference xmi:id="_1bGCUP5uEeuuL66GyNonoQ" base_Element="_1bE0MP5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:Reference xmi:id="_1bH3gP5uEeuuL66GyNonoQ" base_Element="_1bGCUf5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:Reference xmi:id="_1bJssP5uEeuuL66GyNonoQ" base_Element="_1bH3gf5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:Reference xmi:id="_1bK60P5uEeuuL66GyNonoQ" base_Element="_1bJssf5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:Reference xmi:id="_1bMwAP5uEeuuL66GyNonoQ" base_Element="_1bLh4P5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:Reference xmi:id="_1bXvIP5uEeuuL66GyNonoQ" base_Element="_1bXIEP5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:Generics xmi:id="_1bfD4P5uEeuuL66GyNonoQ" genericsValue="?" base_Element="_1bdOsv5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_1biuQP5uEeuuL66GyNonoQ" base_Element="_1bhgIP5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_1bnmwP5uEeuuL66GyNonoQ" base_Element="_1bmYoP5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_1boN0f5uEeuuL66GyNonoQ" base_Element="_1bnmwf5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_1bpb8P5uEeuuL66GyNonoQ" base_Element="_1bo04P5uEeuuL66GyNonoQ"/>
  <uml:OpaqueBehavior xmi:id="_1b_aMP5uEeuuL66GyNonoQ" name="getRandom" specification="_1Nkjsf5uEeuuL66GyNonoQ">
    <ownedParameter xmi:id="_1b_aMf5uEeuuL66GyNonoQ" type="_1NfrMP5uEeuuL66GyNonoQ" direction="return"/>
    <language>java</language>
    <body>return StatusEnum.values()[new Random().nextInt(StatusEnum.values().length)];&#xD;
	</body>
  </uml:OpaqueBehavior>
  <UMLLabProfile:Reference xmi:id="_1cNcoP5uEeuuL66GyNonoQ" base_Element="_1cMOgP5uEeuuL66GyNonoQ"/>
  <UMLLabProfile:Reference xmi:id="_1cOqwP5uEeuuL66GyNonoQ" base_Element="_1cODsP5uEeuuL66GyNonoQ"/>
</xmi:XMI>
